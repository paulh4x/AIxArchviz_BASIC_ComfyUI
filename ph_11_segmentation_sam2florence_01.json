{"id":"ff2cdc64-c7e1-46ae-a18b-459485793948","revision":0,"last_node_id":77,"last_link_id":93,"nodes":[{"id":46,"type":"DownloadAndLoadFlorence2Model","pos":[420,3130],"size":[300,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","slot_index":0,"links":[41]}],"title":"(Down)Load Florence2Model","properties":{"cnr_id":"comfyui-florence2","ver":"c9bd1d34eb8689746366d4bb34dfbb195aa8d0e1","Node name for S&R":"DownloadAndLoadFlorence2Model","widget_ue_connectable":{}},"widgets_values":["microsoft/Florence-2-large","fp16","sdpa",false]},{"id":47,"type":"DownloadAndLoadSAM2Model","pos":[420,3310],"size":[298.35186767578125,130],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"segmentor","name":"segmentor","type":"COMBO","widget":{"name":"segmentor"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null}],"outputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","slot_index":0,"links":[90]}],"title":"(Down)Load SAM2Model - SINGLE","properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"DownloadAndLoadSAM2Model","widget_ue_connectable":{}},"widgets_values":["sam2.1_hiera_base_plus.safetensors","single_image","cuda","bf16"]},{"id":73,"type":"MarkdownNote","pos":[790,2940],"size":[314.01495361328125,120.55522155761719],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["# II\n\n## Inputs\n\nYour prompt goes here."],"color":"#222","bgcolor":"#000"},{"id":72,"type":"MarkdownNote","pos":[410,2940],"size":[314.01495361328125,120.55522155761719],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["# I\n\n## Model Loaders\n\nLoad and use your favorit model and clip."],"color":"#222","bgcolor":"#000"},{"id":42,"type":"Florence2toCoordinates","pos":[1530,3130],"size":[290,102],"flags":{"collapsed":false},"order":9,"mode":0,"inputs":[{"localized_name":"data","name":"data","type":"JSON","link":43},{"localized_name":"index","name":"index","type":"STRING","widget":{"name":"index"},"link":null},{"localized_name":"batch","name":"batch","type":"BOOLEAN","widget":{"name":"batch"},"link":null}],"outputs":[{"localized_name":"center_coordinates","name":"center_coordinates","type":"STRING","slot_index":0,"links":[]},{"localized_name":"bboxes","name":"bboxes","type":"BBOX","slot_index":1,"links":[92]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"Florence2toCoordinates","widget_ue_connectable":{}},"widgets_values":["",true]},{"id":74,"type":"MarkdownNote","pos":[1890,2940],"size":[310,120],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["# IV\n\n## Output\n\nEnjoy."],"color":"#222","bgcolor":"#000"},{"id":75,"type":"MarkdownNote","pos":[1170,2940],"size":[650,120],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["# III\n\n## Config & Processing\n\nConfiguration settings for sampling."],"color":"#222","bgcolor":"#000"},{"id":51,"type":"PreviewImage","pos":[1890,3130],"size":[310,360],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":57}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"PreviewImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":41,"type":"Florence2Run","pos":[1170,3130],"size":[286.7060546875,364],"flags":{"collapsed":false},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":81},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":41},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":42},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[]},{"localized_name":"mask","name":"mask","type":"MASK","slot_index":1,"links":[]},{"localized_name":"caption","name":"caption","type":"STRING","links":null},{"localized_name":"data","name":"data","type":"JSON","slot_index":3,"links":[43]}],"properties":{"cnr_id":"comfyui-florence2","ver":"c9bd1d34eb8689746366d4bb34dfbb195aa8d0e1","Node name for S&R":"Florence2Run","widget_ue_connectable":{"text_input":true}},"widgets_values":["house, building, facade","caption_to_phrase_grounding",true,false,1024,12,true,"",319715846291461,"randomize",[false,true]]},{"id":76,"type":"Sam2Segmentation","pos":[1530,3300],"size":[290,190],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":90},{"localized_name":"image","name":"image","type":"IMAGE","link":91},{"localized_name":"coordinates_positive","name":"coordinates_positive","shape":7,"type":"STRING","link":null},{"localized_name":"coordinates_negative","name":"coordinates_negative","shape":7,"type":"STRING","link":null},{"localized_name":"bboxes","name":"bboxes","shape":7,"type":"BBOX","link":92},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"individual_objects","name":"individual_objects","shape":7,"type":"BOOLEAN","widget":{"name":"individual_objects"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":[93]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"Sam2Segmentation","widget_ue_connectable":{}},"widgets_values":[true,false]},{"id":50,"type":"MaskToImage","pos":[1560,3560],"size":[264.5999755859375,26],"flags":{"collapsed":false},"order":11,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":93}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[57]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.26","Node name for S&R":"MaskToImage","widget_ue_connectable":{}},"widgets_values":[]},{"id":45,"type":"Text Multiline","pos":[790,3530],"size":[310,100],"flags":{"collapsed":false},"order":6,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","slot_index":0,"links":[42]}],"title":"PROMPT TO SEGMENT","properties":{"cnr_id":"was-node-suite-comfyui","ver":"9ae952b1b435d2bd846bfe6516919b5a8b9201aa","Node name for S&R":"Text Multiline","widget_ue_connectable":{}},"widgets_values":["person, ",[false,true]],"color":"#88791b","bgcolor":"#746507"},{"id":66,"type":"LoadImage","pos":[790,3130],"size":[310,326],"flags":{"collapsed":false},"order":7,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[81,91]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["trees008.png","image"],"color":"#ffef23","bgcolor":"#ffdb0f"}],"links":[[41,46,0,41,1,"FL2MODEL"],[42,45,0,41,2,"STRING"],[43,41,3,42,0,"JSON"],[57,50,0,51,0,"IMAGE"],[81,66,0,41,0,"IMAGE"],[90,47,0,76,0,"SAM2MODEL"],[91,66,0,76,1,"IMAGE"],[92,42,1,76,4,"BBOX"],[93,76,0,50,0,"MASK"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.514251491712708,"offset":[-336.29619115848163,-2909.0283848682147]},"ue_links":[],"links_added_by_ue":[]},"version":0.4}